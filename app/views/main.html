<div class="+fullheight">

<script type="text/ng-template" id="details.html">
	<div class="modal-header">
		<h3 class="modal-title">Place Details</h3>
	</div>
	<div class="modal-body">
		<div ng-show="vm.placeDetails.iloc_name != null">
			<div>
			Name: {{vm.placeDetails.iloc_name}}
			</div>		
			<div>
			Total Number of IBA Loans: {{vm.placeDetails.num_apps}}
			</div>		
			<div>
			Total Amount of IBA Loans: {{vm.placeDetails.total_loan}}
			</div>
		</div>	
		<div ng-show="vm.placeDetails.lga_name != null">
			<div>
			Name: {{vm.placeDetails.lga_name}}
			</div>
			<div>
			Median Age of Usual Resident of Indigenous Household: {{vm.placeDetails.median_age_residents_indigenous_household}}
			</div>
			<div>
			Indigenous Population: {{vm.placeDetails.indigenous_population}}
			</div>
			<div>
			Annual Median Indigenous Household Income: {{vm.placeDetails.annual_median_household_income}}
			</div>
			<div>
			Percent of Indigenous Population with Full-time Employment: {{vm.placeDetails.percentage_indigenous_fulltime_employment}}
			</div>
			<div>
			Total IBA Loans: {{vm.placeDetails.iba_total_number_of_loans}}
			</div>		
			<div>
			Total Amount of IBA Loans: {{vm.placeDetails.iba_total_amount_of_loans}}
			</div>
		</div>
		<div ng-show="vm.placeDetails.household_size_index != null" style="margin-top: 30px;">
			<div>Affordability > 4, residents <= 4</div>
			<div>
			Household Size Index: {{vm.placeDetails.household_size_index}}
			</div>
			<div>
			Affordability Index: {{vm.placeDetails.affordability_index}}
			</div>
			<div>
			Not Own Home Index: {{vm.placeDetails.not_own_home_index}}
			</div>		
			<div>
			Composite Index: {{vm.placeDetails.composite}}
			</div>
		</div>
		<div ng-show="vm.placeDetails.household_size_index_183 != null" style="margin-top: 30px;">
			<div>Affordability > 3.33, residents <= 6</div>
			<div>
			Household Size Index: {{vm.placeDetails.household_size_index_183}}
			</div>
			<div>
			Affordability Index: {{vm.placeDetails.affordability_185}}
			</div>
			<div>
			Not Own Home Index: {{vm.placeDetails.not_own_home_index_183}}
			</div>		
			<div>
			Full-time Employment Index: {{vm.placeDetails.full_time_183}}
			</div>				
			<div>
			Composite Index: {{vm.placeDetails.composite_183}}
			</div>
		</div>

		<div ng-show="vm.placeDetails.home_ownership_index_156 != null" style="margin-top: 30px;">
			<div>Affordability > 3.33, population > 150</div>
			<div>
			Home Ownership Index: {{vm.placeDetails.home_ownership_index_156}}
			</div>
			<div>
			Affordability Index: {{vm.placeDetails.affordability_index_99}}
			</div>
			<div>
			Not Own Home Index: {{vm.placeDetails.not_own_home_index_99}}
			</div>		
			<div>
			Full-time Employment Index: {{vm.placeDetails.full_time_99}}
			</div>		
			<div>
			Year 12 Index: {{vm.placeDetails.year_12_index_99}}
			</div>	
			<div>
			Age 16-60 Index: {{vm.placeDetails.age_16_60_index_99}}
			</div>				
			<div>
			Composite Index 1: {{vm.placeDetails.composite_99_1}}
			</div>
			<div>
			Composite Index 2: {{vm.placeDetails.composite_99_2}}
			</div>
			<div>
			Composite Index 3: {{vm.placeDetails.composite_99_3}}
			</div>			
		</div>				
		
		<div ng-show="vm.placeDetails.home_ownership_index_156 != null" style="margin-top: 30px;">
			<div>Affordability > 3, population > 150, aged 16-60 > 33%</div>
			<div>
			Home Ownership Index: {{vm.placeDetails.home_ownership_index_156}}
			</div>
			<div>
			Affordability Index: {{vm.placeDetails.affordability_index_156}}
			</div>
			<div>
			Not Own Home Index: {{vm.placeDetails.not_own_home_index_156}}
			</div>		
			<div>
			Full-time Employment Index: {{vm.placeDetails.full_time_156}}
			</div>				
			<div>
			Composite Index: {{vm.placeDetails.composite_156}}
			</div>
		</div>			
	</div>
	<div class="modal-footer">
		<button class="btn btn-primary" type="button" ng-click="ok()">OK</button>
	</div>
</script>

    <div class="container-fluid +fullheight">

        <div class="row +fullheight">
            <div class="col-md-3 +fullheight">

                <div class="entrycolumn">
                    <h2 style="margin-top: 30px;">
                        <i class="fa fa-globe"></i> Places</h2>

                    <div class="form-group">
                        <label>Location Type
                            <small class="text-muted">Required</small>
                        </label>					
						<div ng-repeat="sel in vm.unitSels">
							<label>
								<input type="radio"
									   ng-model="vm.vis.unitSel"
									   value="{{ sel }}"
									   ng-change="vm.selectedLocationsChanged()"
										>
								{{ sel }}
							</label>
						</div>
						<div style="margin-top: 20px;" ng-if="vm.vis.unitSel == 'LGAs'">
							<label>LGA Filter
								<small class="text-muted">Required</small>
							</label>						
							<div ng-repeat="block in vm.lgaBlocks">
								<label>
									<input type="radio"
										   ng-model="vm.vis.lgaBlock"
										   value="{{ block.value }}"
										   ng-change="vm.selectedLocationsChanged()"
											>
									{{ block.description }}
								</label>
							</div>	
						</div>
                        <label style="margin-top: 20px;">Choose a Place
                            <small class="text-muted">Required</small>
                        </label>
                        <ui-select
                                theme="bootstrap"
                                ng-model="vm.vis.locations[0]"
                                ng-disabled="disabled"
                                reset-search-input="true"
                                style="width: 100%;"
                                on-select="vm.selectedLocationsChanged($item, $model)"
                                on-remove="vm.selectedLocationsChanged($item, $model)">
                            <ui-select-match placeholder="Search for a place">
                                {{ $select.selected.name }}
                            <span class="text-uppercase text-muted">
                                {{ $select.selected.type }}
                            </span>
                            </ui-select-match>
                            <ui-select-choices repeat="location in vm.locations | propsFilter: {name: $select.search}"
                                               refresh="vm.refreshLocations($select.search)"
                                               refresh-delay="0">

                                <span ng-bind-html="location.name | highlight: $select.search"></span>
                            <span class="text-uppercase text-muted">
                                {{ location.type }}
                            </span>
                            </ui-select-choices>
                        </ui-select>

                        <p class="text-muted" style="margin-top:10px;" ng-hide="vm.vis.locations[0]">
                            <small>
                                <i class="fa fa-info-circle"></i>
                                Simply start typing into the box to choose a place, e.g. Australia, Queensland, Toowoomba, Mount Isa, etc.
                            </small>
                        </p>

                    </div>


                    <div ng-show="vm.vis.locations.length > 0">

                        <div ng-hide="vm.vis.locations[0].type === 'country'">
                            <p>Choose a comparison place
                                <small class="text-muted">Optional</small>
                            </p>
                            <ui-select
                                    theme="bootstrap"
                                    ng-model="vm.vis.locations[1]"
                                    ng-disabled="disabled"
                                    reset-search-input="true"
                                    style="width: 100%;"
                                    on-select="vm.selectedLocationsChanged($item, $model)"
                                    on-remove="vm.selectedLocationsChanged($item, $model)">
                                <ui-select-match placeholder="Search for a place" allow-clear="true">
                                    {{ $select.selected.name }}
                                <span class="text-uppercase text-muted">
                                    {{ $select.selected.type }}
                                </span>
                                </ui-select-match>
                                <ui-select-choices
                                        repeat="location in vm.locations | propsFilter: {name: $select.search}"
                                        refresh="vm.refreshLocations($select.search)"
                                        refresh-delay="0">
                                    <span ng-bind-html="location.name | highlight: $select.search"></span>
                                <span class="text-uppercase text-muted">
                                    {{ location.type }}
                                </span>
                                </ui-select-choices>
                            </ui-select>
                        </div>

                        <div class="alert alert-info" style="margin-top:20px;">
                            <strong>{{ vm.vis.units.length }} locations</strong> are selected.
                        </div>

                        <div style="margin-top: 20px;"
                             ng-show="(vm.vis.locations[0].type !== 'iloc' || vm.vis.locations[1] && vm.vis.locations[1].type !== 'iloc') && vm.vis.unitSel == 'ILOCs'">
                            <h5>Remoteness</h5>

                            <p class="text-muted">Only show locations with this
                                remoteness level.</p>

                            <div>
                                <label>
                                    <input type="radio"
                                           ng-model="vm.vis.remotenessLevel"
                                           value="all"
                                           ng-change="vm.selectedLocationsChanged()"
                                            >
                                    All
                                </label>
                            </div>
                            <div ng-repeat="remotenessLevel in vm.remotenessLevels">
                                <label>
                                    <input type="radio"
                                           ng-model="vm.vis.remotenessLevel"
                                           value="{{ remotenessLevel.ra_name }}"
                                           ng-change="vm.selectedLocationsChanged()"
                                            >
                                    {{ remotenessLevel.ra_name }}
                                </label>
                            </div>
                        </div>

                    </div>


                    <div ng-show="vm.vis.locations.length > 0">
                        <h2><i class="fa fa-list-alt"></i> Topics of interest</h2>

                        <div class="form-group">
							<label>Category filter
                                <small class="text-muted">Optional</small>
                            </label>
							
                            <ui-select multiple
                                       theme="bootstrap"
                                       ng-model="vm.vis.category"
                                       ng-disabled="disabled"
                                       reset-search-input="true"
                                       style="width: 100%;"
                                       on-select="vm.selectedCategoryChanged($item, $model)"
                                       on-remove="vm.selectedCategoryChanged($item, $model)">
                                <ui-select-match placeholder="Select one or more categories to filter topics">
                                    <span class="text-capitalize">{{ $item.description }}</span>
                                </ui-select-match>
                                <ui-select-choices repeat="column in vm.categories | propsFilter: {description: $select.search} | orderBy: 'description'">
                                    <div ng-bind-html="column.description | highlight: $select.search"></div>
                                </ui-select-choices>
                            </ui-select>							
							
                            <label>Choose topic(s) of interest
                                <small class="text-muted">Required</small>
                            </label>

                            <ui-select multiple
                                       theme="bootstrap"
                                       ng-model="vm.vis.topics"
                                       ng-disabled="disabled"
                                       reset-search-input="true"
                                       style="width: 100%;"
                                       on-select="vm.selectedTopicsChanged($item, $model)"
                                       on-remove="vm.selectedTopicsChanged($item, $model)">
                                <ui-select-match placeholder="Select 1 or More Topics">
                                    <span class="text-capitalize">{{ $item.short_desc }}</span>
                                </ui-select-match>
                                <ui-select-choices repeat="column in vm.columns | propsFilter: {short_desc: $select.search} | orderBy: 'short_desc'">
                                    <div ng-bind-html="column.short_desc | highlight: $select.search"></div>
                                </ui-select-choices>
                            </ui-select>

                            <label>
                                <input
                                    ng-model="vm.propTopicsOnly"
                                    ng-change="vm.showPropTopicsOnly(vm.propTopicsOnly)"
                                    type="checkbox"><small>Show only proportional variables</small>
                            </label>

                            <p class="text-muted" ng-show="vm.vis.topics.length" style="margin-top:10px;">
                                <small>
                                    <i class="fa fa-info-circle"></i>
                                    Click in the box again to add another topic of interest.
                                </small>
                            </p>
                        </div> <!-- topic choice -->


                        <div>
                            <h2><i class="fa fa-map-marker"></i> Map Visualisation</h2>

                            <p class="text-muted" ng-hide="vm.vis.topics.length">
                                Select at least one topic of interest to view a map visualisation.
                            </p>

                            <div ng-show="vm.vis.topics.length">
                                <accordion close-others="false">
                                    <accordion-group is-open="vm.visStatus.choroplethVisible" ng-click="vm.visStatus.choroplethVisible=true">
                                        <accordion-heading>
                                            <h3>Choropleth</h3>
                                        </accordion-heading>
                                        <ui-select theme="bootstrap"
                                                   ng-model="vm.vis.choropleth.topic"
                                                   ng-disabled="disabled"
                                                   reset-search-input="true"
                                                   style="width: 100%;"
                                                   on-select="vm.selectedRegionTopicChanged($item, $model)">
                                            <ui-select-match placeholder="Select topics of interest(s)">
                                                <span class="text-capitalize">{{$select.selected.short_desc }}</span>
                                            </ui-select-match>
                                            <ui-select-choices
                                                    repeat="column in vm.vis.topics | propsFilter: {short_desc: $select.search}">
                                                <div ng-bind-html="column.short_desc | highlight: $select.search"></div>
                                            </ui-select-choices>
                                        </ui-select>
                                    </accordion-group>

                                    <accordion-group is-open="vm.visStatus.bubbleVisible">
                                        <accordion-heading>
                                            <h3>Bubble <small class="text-muted">Optional</small>
                                            <i class="pull-right glyphicon" ng-class="{'glyphicon-plus': !vm.visStatus.bubbleVisible, 'glyphicon-minus': vm.visStatus.bubbleVisible}"></i>
                                            </h3>
                                        </accordion-heading>

                                        <ui-select theme="bootstrap"
                                                   ng-model="vm.vis.bubble.topic"
                                                   ng-disabled="disabled"
                                                   reset-search-input="true"
                                                   style="width: 100%;"
                                                   on-select="vm.selectedBubbleTopicChanged($item, $model)">
                                            <ui-select-match placeholder="Select topics of interest(s)">
                                                <span class="text-capitalize">{{$select.selected.short_desc }}</span>
                                            </ui-select-match>
                                            <ui-select-choices
                                                    repeat="column in vm.vis.topics | propsFilter: {short_desc: $select.search}">
                                                <div ng-bind-html="column.short_desc | highlight: $select.search"></div>
                                            </ui-select-choices>
                                        </ui-select>
                                </accordion>
                            </div>

                        </div> <!-- Map Visualisation -->


                        <div>
                            <h2><i class="fa fa-area-chart"></i> Plots</h2>

                            <div ng-hide="vm.vis.locations.length && vm.vis.topics.length">
                                <p class="text-muted">
                                You can generate scatter plots and linear regression plots only <b>after</b> you have selected locations and topics!
                                </p>
                            </div>

                            <accordion ng-show="vm.vis.locations.length && vm.vis.topics.length">
                                <!-- scatter plot -->
                                <accordion-group>
                                    <accordion-heading>
                                        <h3>Scatter plot</h3>
                                    </accordion-heading>
                                    <div ng-hide="(vm.vis.units.length > 1) && (vm.vis.topics.length > 1)">
                                        <p class="text-muted">
                                            To generate a scatter plot:
                                        </p>
                                        <ol>
                                            <li class="text-muted">Select at least two locations.</li>
                                            <li class="text-muted">Select at least two topics of interest.</li>
                                        </ol>
                                    </div>
                                    <div ng-show="(vm.vis.units.length > 1) && (vm.vis.topics.length > 1)">
                                        <div class="form-group">
                                        <label>X-axis</label>
                                        <ui-select theme="bootstrap"
                                                   ng-model="vm.scatterPlot.xaxis"
                                                   ng-disabled="disabled"
                                                   reset-search-input="true"
                                                   style="width: 100%;"
                                                   on-select="vm.selectedScatterXChanged()">
                                            <ui-select-match placeholder="Select X-axis">
                                                <span class="text-capitalize">{{$select.selected.short_desc}}</span>
                                            </ui-select-match>
                                            <ui-select-choices
                                                      repeat="column in vm.vis.topics | propsFilter: {short_desc: $select.search}">
                                                <div ng-bind-html="column.short_desc | highlight: $select.search"></div>
                                            </ui-select-choices>
                                        </ui-select>
                                        </div>

                                        <div class="form-group">
                                        <label>Y-axis</label>
                                        <ui-select theme="bootstrap"
                                                   ng-model="vm.scatterPlot.yaxis"
                                                   ng-disabled="disabled"
                                                   reset-search-input="true"
                                                   style="width: 100%;"
                                                   on-select="vm.selectedScatterYChanged()">
                                            <ui-select-match placeholder="Select Y-axis">
                                                <span class="text-capitalize">{{$select.selected.short_desc}}</span>
                                            </ui-select-match>
                                            <ui-select-choices
                                                      repeat="column in vm.vis.topics | propsFilter: {short_desc: $select.search}">
                                                <div ng-bind-html="column.short_desc | highlight: $select.search"></div>
                                            </ui-select-choices>
                                        </ui-select>
                                        </div>

                                        <label>
                                            <input type="checkbox"
                                                   ng-change="vm.generateScatterPlot()"
                                                   ng-model="vm.scatterPlot.useRemoteness">
                                            Use Remoteness
                                        </label>
                                        <label>
                                            <input type="checkbox"
                                                   ng-change="vm.generateScatterPlot()"
                                                   ng-model="vm.scatterPlot.labelLocations">
                                            Label Locations
                                        </label>

                                        <div ng-show="vm.scatterPlot.results">
											<div>
													<nvd3 id="scatterGraph" options="vm.scatterOptions" data="vm.scatterPlot.results"></nvd3>
											</div>	
											<button ng-click="vm.requestScatterDownload('pdf')">Request PDF</button>
											<button ng-click="vm.requestScatterDownload('png')">Request PNG</button>
											
											<script type="text/ng-template" id="scatter.html">
												<div class="modal-header">
													<h3 class="modal-title">Scatter Plot</h3>
												</div>
												<div class="modal-body">
													<div>
														<label>
															<input type="checkbox"
																   ng-change="vm.generateScatterPlot()"
																   ng-model="vm.scatterPlot.useRemoteness">
															Use Remoteness
														</label>
														<label>
															<input type="checkbox"
																   ng-change="vm.generateScatterPlot()"
																   ng-model="vm.scatterPlot.labelLocations">
															Label Locations
														</label>
													</div>
													<div>
														<nvd3 id="scatterGraphModal" options="modalCfg" data="vm.scatterPlot.results"></nvd3>
													</div>
													<button ng-click="vm.requestScatterDownload('pdf')">Request PDF</button>
													<button ng-click="vm.requestScatterDownload('png')">Request PNG</button>
													<!--
													<a class="btn btn-default" ng-show="vm.scatterPlot.filename" ng-href="http://midja.org:3333/{{ vm.scatterPlot.filename }}" download>Download</a>
													-->
												</div>
												<div class="modal-footer">
													<button class="btn btn-primary" type="button" ng-click="ok()">OK</button>
												</div>
											</script>

											<button type="button" class="btn btn-default" ng-click="openScatterModal()">Enlarge</button>
											
											<!--
											<a class="btn btn-default" ng-show="vm.scatterPlot.filename" ng-href="http://midja.org:3333/{{ vm.scatterPlot.filename }}" download>Download</a>
											-->
										</div>

                                    </div>
                                </accordion-group>


                                <accordion-group>
                                    <accordion-heading>
                                        <h3>Linear Regression</h3>
                                    </accordion-heading>
                                    <div ng-hide="(vm.vis.units.length > 1) && (vm.vis.topics.length > 1)">
                                        <p class="text-muted">
                                            To perform a linear regression:
                                        </p>
                                        <ol>
                                            <li class="text-muted">Select at least two locations.</li>
                                            <li class="text-muted">Select at least two topics of interest.</li>
                                        </ol>
                                    </div>

                                    <div ng-show="(vm.vis.units.length > 1) && (vm.vis.topics.length > 1)">

                                        <div class="form-group">
                                            <label>Choose a dependent variable
                                                <small class="text-muted">Optional</small>
                                            </label>

                                            <ui-select theme="bootstrap"
                                                       ng-model="vm.linearRegression.dependent"
                                                       ng-disabled="disabled"
                                                       reset-search-input="true"
                                                       style="width: 100%;"
                                                       on-select="vm.selectedDependentChanged($item, $model)">
                                                <ui-select-match placeholder="Select dependent variable">
                                                    <span class="text-capitalize">{{$select.selected.short_desc }}</span>
                                                </ui-select-match>
                                                <ui-select-choices
                                                        repeat="column in vm.vis.topics | propsFilter: {short_desc: $select.search}">
                                                    <div ng-bind-html="column.short_desc | highlight: $select.search"></div>
                                                </ui-select-choices>
                                            </ui-select>

                                        </div>

                                        <div class="form-group">
                                            <label>
                                                Choose independent variables
                                                <small class="text-muted">Optional</small>
                                            </label>
                                            <ui-select multiple
                                                       theme="bootstrap"
                                                       ng-model="vm.linearRegression.independents"
                                                       ng-disabled="disabled"
                                                       reset-search-input="true"
                                                       style="width: 100%;"
                                                       on-select="vm.selectedIndependentsChanged($item, $model)"
                                                       on-remove="vm.selectedIndependentsChanged($item, $model)">
                                                <ui-select-match placeholder="Select independent variables">
                                                    <span class="text-capitalize">{{ $item.short_desc }}</span>
                                                </ui-select-match>
                                                <ui-select-choices repeat="column in vm.vis.topics | propsFilter: {short_desc: $select.search}">
                                                    <div ng-bind-html="column.short_desc | highlight: $select.search"></div>
                                                </ui-select-choices>
                                            </ui-select>
                                        </div>

                                        <div ng-show="vm.linearRegression.results">
											<div ng-show="vm.linearRegression.sendData.indepVars.length==1">
													<nvd3 id="RegressionGraph" options="vm.regressionOptions" data="vm.linearRegression.resultsData"></nvd3>
											</div>
											<div ng-show="vm.linearRegression.sendData.indepVars.length>1">
													<nvd3 id="RegressionGraph" options="vm.barRegressionOptions" data="vm.linearRegression.resultsData"></nvd3>
											</div>	   											

                                            <dl>
                                                <dt>R Squared</dt>
                                                <dd>
                                                    {{ vm.linearRegression.results.adj_rsquared }}
                                                </dd>

                                                <dt>Equation</dt>
                                                <dd>{{ vm.linearRegression.results.equation }}</dd>
                                            </dl>
                                            <p>
												<button ng-click="vm.requestLinearRegressionDownload('pdf')">Request PDF</button>
												<button ng-click="vm.requestLinearRegressionDownload('png')">Request PNG</button>

												<script type="text/ng-template" id="regression.html">
													<div class="modal-header">
														<h3 class="modal-title">Linear Regression</h3>
													</div>
													<div class="modal-body">												
														<div>
															<nvd3 id="RegressionGraphModal" options="modalCfg" data="vm.linearRegression.resultsData"></nvd3>
														</div>
														<button ng-click="vm.requestScatterDownload('pdf')">Request PDF</button>
														<button ng-click="vm.requestScatterDownload('png')">Request PNG</button>
														<!--
														<a class="btn btn-default" ng-show="vm.scatterPlot.filename" ng-href="http://midja.org:3333/{{ vm.scatterPlot.filename }}" download>Download</a>
														-->
													</div>
													<div class="modal-footer">
														<button class="btn btn-primary" type="button" ng-click="ok()">OK</button>
													</div>
												</script>

												<button type="button" class="btn btn-default" ng-click="openRegModal()">Enlarge</button>												
												<!--
												<a class="btn btn-default" ng-show="vm.linearRegression.filename" ng-href="http://midja.org:3333/{{ vm.linearRegression.filename }}" download>Download</a>
												-->
											</p>
                                        </div>
                                    </div>
                                </accordion-group>
                            </accordion>
                        </div> <!-- Plots -->

                    </div>

                </div>


            </div>

            <div id="mapColumn" class="col-md-6 +fullheight" style="position: relative;">
                <!--ng-class="{'col-sm-9': !vm.isDataSelected(), 'col-md-6': vm.isDataSelected()}">-->
				<cartodb-map top="vm.bubbleLayer" topvisible="vm.visStatus.bubbleVisible" bottom="vm.regionLayer" bottomvisible="vm.vis.choroplethVisible" map="vm.map"></cartodb-map>

				<i id="columnToggleIcon"
					class="fa fa-2x"
					style="position:absolute; right:0px; top:0px;"
					ng-click="vm.toggleDataColumn()"
					ng-class="{'fa-chevron-circle-right': vm.dataColumnVisible, 'fa-chevron-circle-left': !vm.dataColumnVisible}">
				</i>                

                <div class="well" style="position: absolute; top: 10px; right: 30px" ng-show="feature">
                    <div ng-repeat="selection in feature">
                        <div class="text-capitalize">
                            <strong>{{ selection.level_name }}</strong>
                        </div>
                        <div>
                            <em>{{ selection.label }}</em> = {{ selection.value }}
                        </div>
                        <div ng-repeat="selection2 in feature2">
                            <em>{{ selection2.label }}</em> = {{ selection2.value }}
                        </div>						
                    </div>
                </div>

                <!--<div style="position:relative">

                </div>-->
            </div>

            <div id="dataColumn" class="col-md-3 +fullheight" ng-show="vm.dataColumnVisible && vm.vis.units.length">
                <p class="text-muted" style="margin-top:40px" ng-hide="vm.isDataSelected()">
                    Select a place and a topic to see data.
                </p>

                <div ng-show="vm.isDataSelected()">
                    <h2 style="margin-top: 30px;">Data</h2>

                    <div style="overflow-x: scroll">
                        <table class="table table-bordered">
                            <tr ng-repeat="row in vm.tableData">
                                <td ng-repeat="cell in row track by $index">
                                    {{ cell }}
                                </td>
                            </tr>
                        </table>
                    </div>

                    <!--<h3>Bar Chart</h3>-->
                    <div ng-show="vm.chartData.length">
                        <googlechart chartobj="vm.chartobj" data="vm.chartData" style="margin-top:20px;"></googlechart>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>
